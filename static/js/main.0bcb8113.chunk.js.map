{"version":3,"sources":["components/SelectYear.jsx","components/SetRange.jsx","functions/getStateFromId.js","components/MapArea.jsx","_context.js","MapChart.js","App.js","index.js"],"names":["SelectYear","year","setYear","Form","Group","Control","type","value","onChange","e","target","SetRange","low","high","setLow","setHigh","className","min","max","Button","onClick","getStateFromId","fips","findMatch","data","geoId","find","s","parseInt","stateMatch","alabama","iowa","tooltipStyle","hover","fill","outline","pressed","MapArea","props","setTooltipContent","position","handleMoveEnd","stateData","colorScale","scaleLinear","domain","range","nextData","projection","zoom","center","coordinates","onMoveEnd","geography","geographies","map","geo","countyName","properties","name","stateName","id","cur","next","geoData","undefined","onMouseEnter","onMouseLeave","style","rsmKey","MapChart","useState","setData","setNextData","nextYear","setNextYear","useEffect","csv","then","counties","prevData","setPosition","Row","Col","md","outlineColor","backgroundColor","textAlign","pos","App","content","setContent","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0bcb8113.chunk.js","sourcesContent":["import React from \"react\";\nimport { Form } from \"react-bootstrap\";\n\nconst SelectYear = ({ year, setYear }) => {\n  return (\n    <Form>\n      <Form.Group>\n        <Form.Control\n          type=\"number\"\n          value={year}\n          onChange={(e) => {\n            setYear(e.target.value);\n          }}\n        />\n      </Form.Group>\n    </Form>\n  );\n};\n\nexport default SelectYear;\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport Slider from \"react-rangeslider\";\n\nimport \"react-rangeslider/lib/index.css\";\n\nconst SetRange = ({ low, high, setLow, setHigh }) => {\n  return (\n    <>\n      <div className=\"red\">\n        <Slider min={0} max={200} value={-low} onChange={(e) => setLow(-e)} />\n      </div>\n      <div className=\"blue\">\n        <Slider min={0} max={200} value={high} onChange={(e) => setHigh(e)} />\n      </div>\n      <Button\n        onClick={() => {\n          setHigh(100);\n          setLow(-100);\n        }}\n      >\n        Reset\n      </Button>\n    </>\n  );\n};\n\nexport default SetRange;\n","const getStateFromId = (fips) => {\n  if (fips[0] === \"0\") {\n    // O\n    if (fips[1] === \"1\") {\n      return \"Alabama\";\n    } else if (fips[1] === \"2\") {\n      return \"Alaska\";\n    } else if (fips[1] === \"4\") {\n      return \"Arizona\";\n    } else if (fips[1] === \"5\") {\n      return \"Arkansas\";\n    } else if (fips[1] === \"6\") {\n      return \"California\";\n    } else if (fips[1] === \"8\") {\n      return \"Colorado\";\n    } else if (fips[1] === \"9\") {\n      return \"Connecticut\";\n    }\n  } else if (fips[0] === \"1\") {\n    // 1\n    if (fips[1] === \"0\") {\n      return \"Delaware\";\n    } else if (fips[1] === \"2\") {\n      return \"Florida\";\n    } else if (fips[1] === \"3\") {\n      return \"Georgia\";\n    } else if (fips[1] === \"5\") {\n      return \"Hawaii\";\n    } else if (fips[1] === \"6\") {\n      return \"Idaho\";\n    } else if (fips[1] === \"7\") {\n      return \"Illinois\";\n    } else if (fips[1] === \"8\") {\n      return \"Indiana\";\n    } else if (fips[1] === \"9\") {\n      return \"Iowa\";\n    }\n  } else if (fips[0] === \"2\") {\n    // 2\n    if (fips[1] === \"2\") {\n      return \"Louisiana\";\n    } else if (fips[1] === \"8\") {\n      return \"Mississippi\";\n    }\n  }\n  return `${fips[0]}${fips[1]}`;\n};\n\nexport default getStateFromId;\n","import React from \"react\";\nimport {\n  ComposableMap,\n  Geographies,\n  Geography,\n  ZoomableGroup,\n} from \"react-simple-maps\";\nimport { scaleLinear } from \"d3-scale\";\n\nimport { geoUrl } from \"../_context\";\nimport getStateFromId from \"../functions/getStateFromId\";\n\nconst findMatch = (data, geoId) => {\n  if (!data) return;\n  return data.find((s) => parseInt(s.fips) === parseInt(geoId));\n};\n\nconst stateMatch = (data, geoId) => {\n  if (!data) return;\n\n  if (geoId[0] === \"0\") {\n    if (geoId[1] === \"1\") {\n      return findMatch(data[0].alabama, geoId);\n    }\n  } else if (geoId[0] === \"1\") {\n    if (geoId[1] === \"9\") {\n      return findMatch(data[0].iowa, geoId);\n    }\n  }\n  return;\n};\n\nconst tooltipStyle = {\n  hover: {\n    fill: \"#F53\",\n    outline: \"none\",\n  },\n  pressed: {\n    fill: \"#E42\",\n    outline: \"none\",\n  },\n};\n\nconst MapArea = (props) => {\n  const { setTooltipContent, low, high, position, handleMoveEnd, stateData } =\n    props;\n\n  const colorScale = scaleLinear()\n    .domain([low, 0, high])\n    .range([\"red\", \"white\", \"blue\"]);\n\n  const [data, nextData] = stateData;\n\n  return (\n    <ComposableMap data-tip=\"\" projection=\"geoAlbersUsa\">\n      <ZoomableGroup\n        zoom={position.zoom}\n        center={position.coordinates}\n        onMoveEnd={handleMoveEnd}\n      >\n        <Geographies geography={geoUrl}>\n          {({ geographies }) =>\n            geographies.map((geo) => {\n              const countyName = geo.properties.name;\n              const stateName = getStateFromId(geo.id);\n\n              // redo this section to use checkbox and be more efficient by going down state path\n              const cur = stateMatch(data, geo.id);\n              const next = stateMatch(nextData, geo.id);\n              const geoData = cur\n                ? next\n                  ? next.data - cur.data\n                  : cur.data\n                : undefined;\n\n              return (\n                <Geography\n                  key={geo.rsmKey}\n                  geography={geo}\n                  fill={colorScale(geoData ? geoData : \"#0000FF\")}\n                  onMouseEnter={() => {\n                    setTooltipContent(\"\");\n                    setTooltipContent(\n                      `${countyName}, ${stateName} : ${geoData && geoData}`\n                    );\n                  }}\n                  onMouseLeave={() => {\n                    setTooltipContent(\"\");\n                  }}\n                  style={tooltipStyle}\n                />\n              );\n            })\n          }\n        </Geographies>\n      </ZoomableGroup>\n    </ComposableMap>\n  );\n};\n\nexport default MapArea;\n","const geoUrl = \"https://cdn.jsdelivr.net/npm/us-atlas@3/counties-10m.json\";\n\nexport { geoUrl };\n","import React, { useState, useEffect } from \"react\";\nimport { csv } from \"d3-fetch\";\nimport { Row, Col } from \"react-bootstrap\";\n\nimport SelectYear from \"./components/SelectYear\";\nimport SetRange from \"./components/SetRange\";\nimport MapArea from \"./components/MapArea\";\n\nconst MapChart = ({ setTooltipContent }) => {\n  const [data, setData] = useState({});\n  const [nextData, setNextData] = useState({});\n\n  const [year, setYear] = useState(\"1948\");\n  const [nextYear, setNextYear] = useState(\"1952\");\n  const [low, setLow] = useState(-100);\n  const [high, setHigh] = useState(100);\n\n  useEffect(() => {\n    setData([{}]);\n    setNextData([{}]);\n\n    csv(`Alabama/President/${year}.csv`).then((counties) => {\n      setData((prevData) => [{ ...prevData[0], alabama: counties }]);\n    });\n    if (year !== nextYear) {\n      csv(`Alabama/President/${nextYear}.csv`).then((counties) => {\n        setNextData((prevData) => [{ ...prevData[0], alabama: counties }]);\n      });\n    }\n    csv(`Iowa/President/${year}.csv`).then((counties) => {\n      setData((prevData) => [{ ...prevData[0], iowa: counties }]);\n    });\n    if (year !== nextYear) {\n      csv(`Iowa/President/${nextYear}.csv`).then((counties) => {\n        setNextData((prevData) => [{ ...prevData[0], iowa: counties }]);\n      });\n    }\n  }, [year, nextYear]);\n\n  const [position, setPosition] = useState({ coordinates: [0, 0], zoom: 1 });\n\n  function handleZoomIn() {\n    if (position.zoom >= 4) return;\n    setPosition((pos) => ({ ...pos, zoom: pos.zoom * 2 }));\n  }\n\n  function handleZoomOut() {\n    if (position.zoom <= 1) return;\n    setPosition((pos) => ({ ...pos, zoom: pos.zoom / 2 }));\n  }\n\n  function handleMoveEnd(position) {\n    setPosition(position);\n  }\n\n  const stateData = [data, nextData];\n\n  return (\n    <>\n      <Row className=\"layoutRow\">\n        <Col\n          md={10}\n          style={{ outlineColor: \"red\", outline: \"1px\" }}\n          className=\"layoutColumn\"\n        >\n          <MapArea\n            setTooltipContent={setTooltipContent}\n            low={low}\n            high={high}\n            position={position}\n            handleMoveEnd={handleMoveEnd}\n            stateData={stateData}\n          />\n        </Col>\n        <Col\n          md={2}\n          style={{ backgroundColor: \"lightgrey\" }}\n          className=\"layoutColumn\"\n        >\n          <h2 style={{ textAlign: \"center\" }}>{year}</h2>\n\n          <SelectYear year={year} setYear={setYear} />\n          <SelectYear year={nextYear} setYear={setNextYear} />\n          <SetRange low={low} high={high} setLow={setLow} setHigh={setHigh} />\n\n          <button onClick={handleZoomIn}>\n            <i className=\"fas fa-plus\" />\n          </button>\n\n          <button onClick={handleZoomOut}>\n            <i className=\"fas fa-minus\" />\n          </button>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default MapChart;\n","import React, { useState } from \"react\";\nimport ReactTooltip from \"react-tooltip\";\n\nimport MapChart from \"./MapChart\";\n\nfunction App() {\n  const [content, setContent] = useState(\"\");\n  return (\n    <div>\n      <MapChart setTooltipContent={setContent} />\n      <ReactTooltip>{content}</ReactTooltip>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"@fortawesome/fontawesome-free/js/fontawesome\";\nimport \"@fortawesome/fontawesome-free/js/solid\";\n// import \"@fortawesome/fontawesome-free/js/brands\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}