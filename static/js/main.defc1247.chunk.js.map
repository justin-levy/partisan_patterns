{"version":3,"sources":["components/SelectYear.jsx","components/SetRange.jsx","components/MapArea.jsx","MapChart.js","App.js","index.js"],"names":["SelectYear","setYear","Form","Group","Control","as","custom","onChange","e","target","value","SetRange","low","high","setLow","setHigh","className","min","max","MapArea","setTooltipContent","position","handleMoveEnd","stateData","colorScale","scaleLinear","domain","range","alabamaData","iowaData","projection","zoom","center","coordinates","onMoveEnd","geography","geographies","map","geo","cur","find","s","parseInt","fips","id","fill","X","onMouseEnter","properties","name","getStateFromId","onMouseLeave","style","hover","outline","pressed","rsmKey","MapChart","useState","setAlabamaData","setIowaData","year","useEffect","csv","then","counties","setPosition","Row","Col","md","outlineColor","backgroundColor","textAlign","onClick","pos","xmlns","width","height","viewBox","stroke","strokeWidth","x1","y1","x2","y2","App","content","setContent","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.defc1247.chunk.js","sourcesContent":["import React from \"react\";\nimport { Form } from \"react-bootstrap\";\n\nconst SelectYear = ({ setYear }) => {\n  return (\n    <Form>\n      <Form.Group>\n        <Form.Control\n          as=\"select\"\n          custom\n          onChange={(e) => {\n            setYear(e.target.value);\n          }}\n        >\n          <option>1948 - 1952</option>\n          <option>1952 - 1956</option>\n          <option>1956 - 1960</option>\n          <option>1960 - 1964</option>\n          <option>1964 - 1972</option>\n          <option>1972 - 1976</option>\n          <option>1976 - 1980</option>\n          <option>1980 - 1984</option>\n          <option>1984 - 1988</option>\n          <option>1988 - 1992</option>\n          <option>1992 - 1996</option>\n          <option>1996 - 2000</option>\n          <option>2000 - 2004</option>\n          <option>2004 - 2008</option>\n          <option>2008 - 2012</option>\n          <option>2012 - 2016</option>\n          <option>2016 - 2020</option>\n        </Form.Control>\n      </Form.Group>\n    </Form>\n  );\n};\n\nexport default SelectYear;\n","import React from \"react\";\nimport Slider from \"react-rangeslider\";\n\nimport \"react-rangeslider/lib/index.css\";\n\nconst SetRange = ({ low, high, setLow, setHigh }) => {\n  return (\n    <>\n      <div className=\"red\">\n        <Slider min={-200} max={0} value={low} onChange={(e) => setLow(e)} />\n      </div>\n      <div className=\"blue\">\n        <Slider min={0} max={200} value={high} onChange={(e) => setHigh(e)} />\n      </div>\n    </>\n  );\n};\n\nexport default SetRange;\n","import React from \"react\";\nimport {\n  ComposableMap,\n  Geographies,\n  Geography,\n  ZoomableGroup,\n} from \"react-simple-maps\";\nimport { scaleLinear } from \"d3-scale\";\n\nconst geoUrl = \"https://cdn.jsdelivr.net/npm/us-atlas@3/counties-10m.json\";\n\nconst getStateFromId = (fips) => {\n  if (fips[0] === \"0\") {\n    if (fips[1] === \"1\") {\n      return \"Alabama\";\n    } else if (fips[1] === \"2\") {\n      return \"Alaska\";\n    } else if (fips[1] === \"5\") {\n      return \"Arkansas\";\n    }\n  } else if (fips[0] === \"1\") {\n    if (fips[1] === \"9\") {\n      return \"Iowa\";\n    } else if (fips[1] === \"3\") {\n      return \"Georgia\";\n    }\n  } else if (fips[0] === \"2\") {\n    if (fips[1] === \"2\") {\n      return \"Louisiana\";\n    } else if (fips[1] === \"8\") {\n      return \"Mississippi\";\n    }\n  }\n  return `${fips[0]}${fips[1]}`;\n};\n\nconst MapArea = ({\n  setTooltipContent,\n  low,\n  high,\n  position,\n  handleMoveEnd,\n  stateData,\n}) => {\n  const colorScale = scaleLinear()\n    .domain([low, 0, high])\n    .range([\"red\", \"white\", \"blue\"]);\n\n  const [alabamaData, iowaData] = stateData;\n\n  return (\n    <ComposableMap data-tip=\"\" projection=\"geoAlbersUsa\">\n      <ZoomableGroup\n        zoom={position.zoom}\n        center={position.coordinates}\n        onMoveEnd={handleMoveEnd}\n      >\n        <Geographies geography={geoUrl}>\n          {({ geographies }) =>\n            geographies.map((geo) => {\n              const cur =\n                alabamaData.find(\n                  (s) => parseInt(s.fips) === parseInt(geo.id)\n                ) ||\n                iowaData.find((s) => parseInt(s.fips) === parseInt(geo.id));\n              return (\n                <Geography\n                  key={geo.rsmKey}\n                  geography={geo}\n                  fill={colorScale(cur ? cur.X : \"#0000FF\")}\n                  onMouseEnter={() => {\n                    setTooltipContent(\"\");\n                    setTooltipContent(\n                      `${geo.properties.name}, ${getStateFromId(geo.id)} : ${\n                        cur && cur.X\n                      }`\n                    );\n                    // console.log(geo);\n                  }}\n                  onMouseLeave={() => {\n                    setTooltipContent(\"\");\n                  }}\n                  style={{\n                    hover: {\n                      fill: \"#F53\",\n                      outline: \"none\",\n                    },\n                    pressed: {\n                      fill: \"#E42\",\n                      outline: \"none\",\n                    },\n                  }}\n                />\n              );\n            })\n          }\n        </Geographies>\n      </ZoomableGroup>\n    </ComposableMap>\n  );\n};\n\nexport default MapArea;\n","import React, { useState, useEffect } from \"react\";\nimport { csv } from \"d3-fetch\";\nimport { Row, Col } from \"react-bootstrap\";\n\nimport SelectYear from \"./components/SelectYear\";\nimport SetRange from \"./components/SetRange\";\nimport MapArea from \"./components/MapArea\";\n\nconst MapChart = ({ setTooltipContent }) => {\n  const [alabamaData, setAlabamaData] = useState([]);\n  const [iowaData, setIowaData] = useState([]);\n  const [year, setYear] = useState(\"1948 - 1952\");\n  const [low, setLow] = useState(-100);\n  const [high, setHigh] = useState(100);\n\n  useEffect(() => {\n    setAlabamaData([]);\n    setIowaData([]);\n\n    csv(`Alabama/President/${year}.csv`).then((counties) => {\n      setAlabamaData(counties);\n    });\n    csv(`Iowa/President/${year}.csv`).then((counties) => {\n      setIowaData(counties);\n    });\n  }, [year]);\n\n  const [position, setPosition] = useState({ coordinates: [0, 0], zoom: 1 });\n\n  function handleZoomIn() {\n    if (position.zoom >= 4) return;\n    setPosition((pos) => ({ ...pos, zoom: pos.zoom * 2 }));\n  }\n\n  function handleZoomOut() {\n    if (position.zoom <= 1) return;\n    setPosition((pos) => ({ ...pos, zoom: pos.zoom / 2 }));\n  }\n\n  function handleMoveEnd(position) {\n    setPosition(position);\n  }\n\n  const stateData = [alabamaData, iowaData];\n\n  return (\n    <>\n      <Row className=\"layoutRow\">\n        <Col\n          md={10}\n          style={{ outlineColor: \"red\", outline: \"1px\" }}\n          className=\"layoutColumn\"\n        >\n          <MapArea\n            setTooltipContent={setTooltipContent}\n            low={low}\n            high={high}\n            position={position}\n            handleMoveEnd={handleMoveEnd}\n            stateData={stateData}\n          />\n        </Col>\n        <Col\n          md={2}\n          style={{ backgroundColor: \"lightgrey\" }}\n          className=\"layoutColumn\"\n        >\n          <h2 style={{ textAlign: \"center\" }}>{year}</h2>\n\n          <SelectYear setYear={setYear} />\n          <SetRange low={low} high={high} setLow={setLow} setHigh={setHigh} />\n\n          <button onClick={handleZoomIn}>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              strokeWidth=\"3\"\n            >\n              <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\" />\n              <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\n            </svg>\n          </button>\n\n          <button onClick={handleZoomOut}>\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n              strokeWidth=\"3\"\n            >\n              <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\n            </svg>\n          </button>\n        </Col>\n      </Row>\n    </>\n  );\n};\n\nexport default MapChart;\n","import React, { useState } from \"react\";\nimport ReactTooltip from \"react-tooltip\";\n\nimport MapChart from \"./MapChart\";\n\nfunction App() {\n  const [content, setContent] = useState(\"\");\n  return (\n    <div>\n      <MapChart setTooltipContent={setContent} />\n      <ReactTooltip>{content}</ReactTooltip>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}